/* app/globals.css */

/*
 * =============================================================================
 * Part 1: Imports
 * =============================================================================
 */
@import 'tailwindcss';

/* Import specific weights to improve performance */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
@import url('https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;700&display=swap');

/* Optional: Import custom animations from a separate file for organization */
@import './custom/animations.css';
@import './custom/utilities.css';

/*
 * =============================================================================
 * Part 2: Theme and Global Variable Definitions
 * =============================================================================
 * This is now the single source of truth for all design tokens.
 */
@layer base {
  /* Default variables (Dark Theme) are defined in :root */
  :root {
    /* -- THEME: DARK (DEFAULT) -- */
    --color-background-primary: 0 0% 4%;
    --color-background-secondary: 0 0% 6%;
    --color-background-tertiary: 0 0% 8%;
    --color-text-primary: 0 0% 98%;
    --color-text-secondary: 0 0% 70%;
    --color-text-muted: 0 0% 50%;
    --color-border-primary: 0 0% 15%;
    --color-border-secondary: 0 0% 20%;
    --color-accent-primary: 217 91% 60%;
    --color-accent-secondary: 262 83% 58%;
    --color-danger: 0 84% 60%;
    --font-family-primary:
      'DM Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
      sans-serif;

    /* -- GLOBAL TOKENS -- */
    /* These are not theme-dependent */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md:
      0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg:
      0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --radius: 0.5rem;
  }

  /* -- THEME: LIGHT -- */
  /* This class overrides the :root variables when applied to the <html> tag. */
  .theme-light {
    --color-background-primary: 0 0% 100%;
    --color-background-secondary: 0 0% 98%;
    --color-background-tertiary: 0 0% 96%;
    --color-text-primary: 0 0% 9%;
    --color-text-secondary: 0 0% 45%;
    --color-text-muted: 0 0% 65%;
    --color-border-primary: 0 0% 90%;
    --color-border-secondary: 0 0% 85%;
    /* Accents can remain the same or be different per theme */
    --color-accent-primary: 217 91% 60%;
    --color-accent-secondary: 262 83% 58%;
    --color-danger: 0 84% 60%;
    --font-family-primary:
      'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  }
}

/*
 * =============================================================================
 * Part 3: Global Style Application
 * =============================================================================
 * Applying our variables to base elements.
 */
@layer base {
  html {
    /* Smooth scrolling is a great UX feature */
    scroll-behavior: smooth;
    text-rendering: optimizeLegibility;
    overflow-x: hidden;
  }

  body {
    background-color: hsl(var(--color-background-primary));
    color: hsl(var(--color-text-primary));
    /* Font is now safely applied here without !important */
    font-family: var(--font-family-primary);

    font-feature-settings:
      'rlig' 1,
      'calt' 1;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;

    /* Transition the properties that change between themes */
    transition:
      background-color 0.3s ease,
      color 0.3s ease,
      font-family 0.3s ease;
  }

  /* A single, safe rule for default border color */
  * {
    border-color: hsl(var(--color-border-primary));
  }
}
